\mode<presentation>

\usebeamerfont{firacode}

\usetheme{CambridgeUS}
\useoutertheme[subsection=false]{miniframes}	% When setting section=true: remove compress as beamer param
\usepackage{./src/beamercolortheme}	% Custom color theme

%% Miniframe dots adjustments:
% source: https://tex.stackexchange.com/questions/88182/beamer-miniframes-side-by-side-section-names-and-navigation-dots
\usepackage{etoolbox}
\makeatletter
\patchcmd{\slideentry}{\advance\beamer@tempdim by -.05cm}{\advance\beamer@tempdim by\beamer@vboxoffset\advance\beamer@tempdim by\beamer@boxsize\advance\beamer@tempdim by 1.2\pgflinewidth}{}{}
\patchcmd{\slideentry}{\kern\beamer@tempdim}{\advance\beamer@tempdim by 2pt\advance\beamer@tempdim by\wd\beamer@sectionbox\kern\beamer@tempdim}{}{}
\makeatother

%% Modifying \maketitle:
% Options: series, shape, family
\setbeamerfont{title}{parent=structure, size=\LARGE}
\setbeamerfont{subtitle}{parent=structure, size=\normalsize, series=\bfseries}
%\usebeamerfont{date}{parent=structure, size=\small}	% Seams to not work at all...

%% Modifying beamer block:
\setbeamerfont{block title}{size=\normalsize, series=\bfseries}

%% Setting custom background:
% (I probaply need some better TikZ skills here...)
%\setbeamertemplate{background}{
%	\begin{tikzpicture}
%		\tikzstyle{every node} = [draw, circle, fill=white, size=4pt, inner sep=0pt]
%		\begin{scope}
%			\node (A) at (0, 0) {};
%			\node (B) at (1, 1) {};
%			\node (C) at (1, 0) {};
%			\node (D) at (1, 1) {};
%		\end{scope}
%		\begin{scope}
%			\path (A) edge node {} (B);
%		\end{scope}
%	\end{tikzpicture}
%}

%% Changing icons:
%\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{section in toc}[circle]
\setbeamertemplate{subsection in toc}[circle] % Does not work...
% Make no use of subsubsctions due to glithes (?):
%\setbeamertemplate{subsubsection in toc}[default]
\setbeamertemplate{itemize item}[circle]
%\setbeamertemplate{itemize subsubitem}[triangle]
\setbeamertemplate{itemize subitem}{\scriptsize$\blacktriangleright$}
\setbeamertemplate{itemize subsubitem}{\large\bfseries\--}
\setbeamertemplate{enumerate item}[default]
\setbeamertemplate{enumerate subitem}[default]

%% Thanks page:
\mode<presentation>{
	\def\makethanks{
		\begin{frame}
			\begin{beamercolorbox}[shadow=true,rounded=true,sep=0.5cm,center]{palette primary}
				{
					\Large
					ありがとう~ございました！\\
					\vskip2pt
					\textbf{Noch Fragen?}
				}
			\end{beamercolorbox}
			\vskip 0.25cm
			\hspace*{\fill}
			\begin{beamercolorbox}[shadow=true,rounded=true,sep=0.1cm,center,wd=0.66\hsize]{palette tertiary}
				Mein \href{\github}{GitHub}:\quad\textcolor{black}{\hypersetup{urlcolor=.}\qrcode[height=2cm,level=Q]{\github}}
			\end{beamercolorbox}
			\hspace*{\fill}
		\end{frame}
	}
}

%% Handout generation:
\mode<handout>{
	\pgfpagesuselayout{2 on 1}[letterpaper, border shrink=8pt]
	% \pgfpagesuselayout{rounded corners} % Looks nice, but draws a blck background
	\setbeameroption{show notes}
}

\mode<all>
